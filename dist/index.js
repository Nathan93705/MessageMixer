"use strict";var o=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var c=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var r=(t,e)=>o(t,"name",{value:e,configurable:!0});var _=(t,e)=>{for(var a in e)o(t,a,{get:e[a],enumerable:!0})},v=(t,e,a,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of c(e))!p.call(t,n)&&n!==a&&o(t,n,{get:()=>e[n],enumerable:!(s=u(e,n))||s.enumerable});return t};var x=t=>v(o({},"__esModule",{value:!0}),t);var D={};_(D,{default:()=>S});module.exports=x(D);var i=require("@serenityjs/plugins");var l={enabled:!0,enable_formatting:!0,default_messages:[{id:"example",length:5e3},{id:"gay",length:5e3}]};var m={default:{messages:["SerenityJS"],random:!1,rotation_interval:1e3},example:{messages:["h","he","hel","hell","hello","hell","hel","he"],random:!1,rotation_interval:500}};var g=m;function b(t,e){return Math.floor(Math.random()*(e-t+1))+t}r(b,"getRandomInt");var w=new i.Plugin("MessageMixer","1.0.0",{onStartUp(t){l.enabled&&y(t.serenity)}});function y(t){let e=0;setInterval(()=>{let a=l.default_messages[e];if(!g[a.id]){e=(e+1)%l.default_messages.length;return}let s=g[a.id],n=0,d=Date.now()+a.length,f=setInterval(()=>{if(Date.now()>=d){clearInterval(f);return}let h=s.random?s.messages[b(0,s.messages.length-1)]:s.messages[n];t.setMotd(h),n=(n+1)%s.messages.length},s.rotation_interval);e=(e+1)%l.default_messages.length},l.default_messages[0].length)}r(y,"startLoop");var S=w;
