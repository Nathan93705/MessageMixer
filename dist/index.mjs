var f=Object.defineProperty;var o=(t,e)=>f(t,"name",{value:e,configurable:!0});import{Plugin as c}from"@serenityjs/plugins";var n={enabled:!0,enable_formatting:!0,default_messages:[{id:"example",length:5e3},{id:"gay",length:5e3}]};var r={default:{messages:["SerenityJS"],random:!1,rotation_interval:1e3},example:{messages:["h","he","hel","hell","hello","hell","hel","he"],random:!1,rotation_interval:500}};var m=r;function p(t,e){return Math.floor(Math.random()*(e-t+1))+t}o(p,"getRandomInt");var _=new c("MessageMixer","1.0.0",{onStartUp(t){n.enabled&&v(t.serenity)}});function v(t){let e=0;setInterval(()=>{let a=n.default_messages[e];if(!m[a.id]){e=(e+1)%n.default_messages.length;return}let s=m[a.id],l=0,g=Date.now()+a.length,i=setInterval(()=>{if(Date.now()>=g){clearInterval(i);return}let d=s.random?s.messages[p(0,s.messages.length-1)]:s.messages[l];t.setMotd(d),l=(l+1)%s.messages.length},s.rotation_interval);e=(e+1)%n.default_messages.length},n.default_messages[0].length)}o(v,"startLoop");var S=_;export{S as default};
